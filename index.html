<!DOCTYPE html>
<html>
<body>

<textarea id="myText"></textarea>

<button onclick="myFunction()">Try it</button>
<button onclick="myFunction1()">Next</button>
<button onclick="myFunction2()">Show</button>

<p id="demo"></p>

<p id="demo1"></p>
<p id="demo2"></p>
<p id="demo3"></p>
<p id="demo4"></p>
<p id="demo5"></p>

<script>
var para;
var pcount;
var ran = 0;
var op = ["A","B","C","D"];
var poss = [[0,1,2,3],[0,1,3,2],[0,2,1,3],[0,2,3,1],[0,3,1,2],[0,3,2,1],[1,0,2,3],[1,0,3,2],[1,2,0,3],[1,2,3,0],[1,3,0,2],[1,3,2,0],
[2,0,1,3],[2,0,3,1],[2,1,0,3],[2,1,3,0],[2,3,0,1],[2,3,1,0],
[3,0,1,2],[3,0,2,1],[3,1,0,2],[3,1,2,0],[3,2,0,1],[3,2,1,0]];

function myFunction() {
  var str = document.getElementById("myText").value ;
  var output = str.split('');
	console.log(output);
  para = str.split(/\n/i);
  pcount = 0;

}
function myFunction1() {
document.getElementById("demo").innerHTML = '';
document.getElementById("demo5").innerHTML = '';
  var lres = para[pcount].split('.');
  
  if(para[pcount].length == 0){
  pcount = pcount+1;
  myFunction1();
  return;
  }
  
  	console.log(lres);

  
  if(lres.length<5){

  document.getElementById("demo1").innerHTML = "Less than 4";
  for(let i=2;i<6;i++){
   document.getElementById("demo"+i).innerHTML = '';
}
  return;
}

ran = Math.floor(Math.random() * 23) + 1;
console.log(poss[ran]);
for(let i=1;i<5;i++){
  document.getElementById("demo"+i).innerHTML = op[i-1] +".)" + lres[poss[ran][i-1]];
  }

}
function myFunction2() {
var  ans = "";
for(let i=0;i<4;i++){
ans = ans + op[poss[ran].indexOf(i)];
}

if(para[pcount].split('.').length>4){
document.getElementById("demo5").innerHTML = ans;
}

  document.getElementById("demo").innerHTML = para[pcount];
  pcount = pcount+1;
}
</script>

</body>
</html>
